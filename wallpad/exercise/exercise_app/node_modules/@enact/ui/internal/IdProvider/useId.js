"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.useIdProvider = exports["default"] = void 0;

var _useClass = _interopRequireDefault(require("@enact/core/useClass"));

var _react = require("react");

var _Provider = _interopRequireDefault(require("./Provider"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { "default": obj }; }

/**
 * Configuration for `useIdProvider`
 *
 * @typedef {Object} useIdProviderConfig
 * @memberof ui/IdProvider
 * @property {String} [prefix] Optional prefix for the identifier.
 * @private
 */

/**
 * Object returned by `useIdProvider`
 *
 * @typedef {Object} useIdProviderInterface
 * @memberof ui/IdProvider
 * @property {Function} [generateId] The function to generate id.
 * @private
 */

/**
 * Generate globally-unique identifiers
 *
 * @param {useIdProviderConfig} config Configuration options
 * @returns {useIdProviderInterface}
 * @private
 */
var useIdProvider = function useIdProvider(_ref) {
  var prefix = _ref.prefix;
  var provider = (0, _useClass["default"])(_Provider["default"], prefix);
  (0, _react.useLayoutEffect)(function () {
    return function () {
      return provider.unload();
    };
  }, [provider]);
  return {
    generateId: provider.generate
  };
};

exports.useIdProvider = useIdProvider;
var _default = useIdProvider;
exports["default"] = _default;