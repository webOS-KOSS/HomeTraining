"use strict";

require("@testing-library/jest-dom");

var _react = require("@testing-library/react");

var _userEvent = _interopRequireDefault(require("@testing-library/user-event"));

var _RangePicker = require("../RangePicker");

var _jsxRuntime = require("react/jsx-runtime");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { "default": obj }; }

describe('RangePicker Specs', function () {
  test('should render a single child with the current value', function () {
    (0, _react.render)( /*#__PURE__*/(0, _jsxRuntime.jsx)(_RangePicker.RangePicker, {
      min: -10,
      max: 20,
      value: 10
    }));

    var textField = _react.screen.getByText('10');

    var expected = 'item';
    expect(textField).toBeInTheDocument();
    expect(textField).toHaveClass(expected);
  });
  test('should increase by step amount on increment press', function () {
    (0, _react.render)( /*#__PURE__*/(0, _jsxRuntime.jsx)(_RangePicker.RangePicker, {
      min: 0,
      max: 100,
      defaultValue: 10,
      step: 1,
      noAnimation: true
    }));

    var incrementButton = _react.screen.getByText('▶');

    _userEvent["default"].click(incrementButton);

    var textField = _react.screen.getByText('11');

    var expected = 'item';
    expect(textField).toBeInTheDocument();
    expect(textField).toHaveClass(expected);
  });
  test('should decrease by step amount on decrement press', function () {
    (0, _react.render)( /*#__PURE__*/(0, _jsxRuntime.jsx)(_RangePicker.RangePicker, {
      min: 0,
      max: 100,
      defaultValue: 10,
      step: 1,
      noAnimation: true
    }));

    var decrementButton = _react.screen.getByText('◀');

    _userEvent["default"].click(decrementButton);

    var textField = _react.screen.getByText('9');

    var expected = 'item';
    expect(textField).toBeInTheDocument();
    expect(textField).toHaveClass(expected);
  });
  test('should pad the value', function () {
    (0, _react.render)( /*#__PURE__*/(0, _jsxRuntime.jsx)(_RangePicker.RangePicker, {
      min: 0,
      max: 100,
      value: 10,
      step: 1,
      padded: true
    }));

    var textField = _react.screen.getByText('010');

    var expected = 'item';
    expect(textField).toBeInTheDocument();
    expect(textField).toHaveClass(expected);
  });
  test('should pad the value when min has more digits than max', function () {
    (0, _react.render)( /*#__PURE__*/(0, _jsxRuntime.jsx)(_RangePicker.RangePicker, {
      min: -1000,
      max: 100,
      value: 10,
      step: 1,
      padded: true
    }));

    var textField = _react.screen.getByText('0010');

    var expected = 'item';
    expect(textField).toBeInTheDocument();
    expect(textField).toHaveClass(expected);
  });
  test('should be disabled when limited to a single value', function () {
    (0, _react.render)( /*#__PURE__*/(0, _jsxRuntime.jsx)(_RangePicker.RangePickerBase, {
      "data-testid": "rangePicker",
      min: 0,
      max: 0,
      value: 0
    }));

    var rangePicker = _react.screen.getByTestId('rangePicker');

    var expectedAttribute = 'aria-disabled';
    var expectedValue = 'true';
    expect(rangePicker).toHaveAttribute(expectedAttribute, expectedValue);
  });
  test('should have an heading element when \'title\'', function () {
    (0, _react.render)( /*#__PURE__*/(0, _jsxRuntime.jsx)(_RangePicker.RangePickerBase, {
      min: 0,
      max: 0,
      value: 0,
      title: "title text"
    }));

    var title = _react.screen.getByText('title text');

    var expected = 'heading';
    var actual = title.parentElement.parentElement;
    expect(title).toBeInTheDocument();
    expect(actual).toHaveClass(expected);
  });
  test('should have an heading element with inline class when \'title\' and \'inlineTitle\'', function () {
    (0, _react.render)( /*#__PURE__*/(0, _jsxRuntime.jsx)(_RangePicker.RangePickerBase, {
      inlineTitle: true,
      min: 0,
      max: 0,
      value: 0,
      title: "title text"
    }));

    var title = _react.screen.getByText('title text');

    var expectedInline = 'inlineTitle';
    var expectedHeader = 'heading';
    var actual = title.parentElement.parentElement;
    expect(title).toBeInTheDocument();
    expect(actual).toHaveClass(expectedInline);
    expect(actual).toHaveClass(expectedHeader);
  });
});